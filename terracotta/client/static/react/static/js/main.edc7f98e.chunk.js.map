{"version":3,"sources":["sidebar/VerticalHandle/Handle.tsx","sidebar/VerticalHandle/VerticalHandle.tsx","sidebar/SidebarContent.tsx","common/images/header.svg","sidebar/SidebarTitle.tsx","AppContext.tsx","common/data/getData.ts","sidebar/SidebarItemWrapper.tsx","sidebar-datasets/TablePagination.tsx","sidebar-datasets/TableRow.tsx","sidebar-datasets/DatasetsForm.tsx","common/components/CopyToClipboard.tsx","sidebar-datasets/DatasetPreview.tsx","common/components/Slider.tsx","colormap/colormaps.ts","common/components/Legend.tsx","colormap/SinglebandSelector.tsx","colormap/RGBSlider.tsx","colormap/RGBSelector.tsx","colormap/endpoints.ts","colormap/DatasetsColormap.tsx","sidebar-datasets/SidebarDatasets.tsx","map/MapZoomControl.tsx","common/hooks/useWindowDimensions.ts","common/hooks/useIsMobileWidth.ts","map/geojsonStyles.ts","map/Map.tsx","App.tsx","theme/theme.js","index.tsx"],"names":["useStyles","makeStyles","theme","root","height","width","background","cursor","display","alignItems","justifyContent","collapsedRoot","icon","color","palette","primary","main","transform","iconBox","zIndex","padding","spacing","position","borderRadius","Handle","onMouseDown","onMouseUp","isCollapsed","onClickExpand","classes","Box","draggable","className","clsx","onClick","ExpandLess","DragHandle","VerticalHandle","boxWidth","onDrag","minSize","minMapSize","window","innerWidth","useState","isDragging","setIsDragging","initialWidth","setInitialWidth","handleMouseMove","useCallback","e","windowWidth","w","clientX","handleMouseDown","handleMouseUp","useEffect","remove","removeEventListener","addEventListener","breakpoints","rooterThanRoot","down","overflowY","leftBorder","borderLeft","topBorder","borderTop","SidebarContent","children","setWidth","Paper","style","wrapper","margin","backgroundColor","borderBottom","opacity","infoIcon","marginLeft","detailsBox","marginTop","marginBottom","detailsText","hostText","fontSize","wordBreak","hasDescription","textDecoration","noDescription","SidebarTitle","host","keys","flexWrap","src","HeaderImage","alt","my","mt","Typography","variant","Link","href","target","map","keyItem","description","Tooltip","title","key","toLowerCase","AppContext","createContext","getData","url","a","fetch","data","json","console","error","undefined","paddingBottom","spinner","SidebarItemWrapper","isLoading","mb","CircularProgress","formControl","border","TablePagination","value","options","onGetValue","onGetPage","page","disableNext","IconButton","disabled","FormControl","Select","id","onChange","Number","option","i","MenuItem","tableCell","tableRow","iconChecked","noPadding","TableRow","dataset","keyVal","checked","onMouseEnter","onMouseLeave","hover","TableCell","Object","item","input","inputLabel","DatasetsForm","onSubmitFields","formValues","setFormValues","onSubmitForm","preventDefault","queryString","join","reduceKeys","reduce","acc","onSubmit","isLastUneven","length","TextField","toLocaleLowerCase","label","fullWidth","val","Button","type","disabledStyle","enabledStyle","CopyToClipboard","helperText","message","location","copyUrl","tooltip","setTooltip","copy","setTimeout","Grid","container","justify","data-clipboard-text","outline","imagePreview","codeContainer","overflowX","maxWidth","codeContainerText","copyTooltip","metadataLink","DatasetPreview","limit","activeDataset","datasetUrl","colSpan","Collapse","in","timeout","unmountOnExit","p","xs","whiteSpace","j","includes","buildStr","returnJson","datasetKey","loading","Slider","defaultValue","min","max","step","getValue","getValueCommitted","sliderMarginLeft","noNumbers","unit","setValue","direction","wrap","marginRight","Array","isArray","toFixed","scale","x","newValue","onChangeCommitted","valueLabelDisplay","COLORMAPS","displayName","img_url","inputBox","colorbarStyle","Legend","range","onGetRange","SinglebandSelector","useContext","state","colormap","datasets","activeSinglebandRange","actions","setColormap","setActiveSinglebandRange","minRange","maxRange","localRange","setLocalRange","InputLabel","colorId","colormapObj","find","onSetColormap","String","mx","RGBSlider","selectValue","onGetSliderValue","onGetSelectValue","sliderValue","ml","RGBSelector","datasetBands","activeRGB","setActiveRGB","datasetPageRange","band","bandKey","onGetBandValue","sliderKey","endpoints","rgbText","DatasetsColormap","activeEndpoint","setActiveEndpoint","minWidth","table","maxHeight","tableHeadTypography","fontWeight","limitOptions","SidebarDatasetsItem","selectedDatasetRasterUrl","setKeys","setHoveredDataset","setDatasets","setActiveDataset","setSelectedDatasetRasterUrl","setLimit","setPage","setDatasetBands","queryFields","setQueryFields","setIsLoading","getDatasets","pageRef","limitRef","response","datasetsResponse","hasOwnProperty","metadataResponsesPreFetch","buildMetadataUrl","preFetchData","Promise","all","metadataResponses","getKeys","keysReponse","toUpperCase","substring","onGetRGBBands","noBandKeysURL","bands","activeRGBLocal","colorString","percentiles","validRange","keysRasterUrl","buildRasterUrl","hasValueForBand","every","colorObj","hasValueForRange","lastKey","rgbParams","TableContainer","Table","aria-labelledby","size","aria-label","TableHead","TableBody","index","actualIndex","defaultRGB","onHandleRow","convex_hull","iconButton","fill","boxSizing","activeIcon","gridStyle","left","top","boxShadow","ZoomControl","isOpticalBasemap","setIsOpticalBasemap","setViewport","placement","v","zoom","getWindowDimensions","document","body","clientWidth","clientHeight","windowDimensions","setWindowDimensions","handleResize","useWindowDimensions","regionPaintFill","regionPaintLine","Map","isMobile","useIsMobileWidth","viewport","hoveredDataset","localViewport","setLocalViewport","localRasterUrl","setLocalRasterUrl","basemap","mapRef","useRef","latitude","longitude","transitionDuration","transitionInterpolator","FlyToInterpolator","transitionEasing","easeCubicInOut","currentBounds","bounds","formattedBounds","current","mapHeight","scrollHeight","currentMapWidth","scrollWidth","viewportBounds","WebMercatorViewport","fitBounds","boundsViewportToPass","mapboxApiAccessToken","mapStyle","onViewportChange","paint","tileSize","tiles","source","ref","defaultColormap","defaultViewport","bearing","pitch","isEnvDev","process","REACT_APP_NODE_ENV","TC_URL","REACT_APP_TC_URL","R","G","B","App","hostnameProp","hostname","setHostname","initializeApp","charAt","slice","onload","bind","Provider","details","SidebarDatasets","DHITheme","createMuiTheme","secondary","grey","medium","light","dark","flexLayout","flexDirection","flex","typography","h1","h2","h3","h6","h5","subtitle1","body2","drawerColor","drawerWidth","overrides","MuiButton","textTransform","containedSecondary","outlinedPrimary","outlinedSecondary","MuiCardActions","MuiCardContent","MuiCheckbox","MuiSvgIcon","MuiAccordion","MuiAccordionDetails","MuiAccordionSummary","content","minHeight","MuiFormControlLabel","paddingLeft","MuiIconButton","MuiInputBase","MuiPaper","rounded","elevation1","elevation4","MuiToolbar","regular","MuiTooltip","arrow","require","config","ReactDOM","render","StrictMode","ThemeProvider","DhiTheme","getElementById","innerText"],"mappings":"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","file":"static/js/main.edc7f98e.chunk.js","sourcesContent":["import React, { MouseEventHandler, FC } from 'react'\nimport clsx from 'clsx'\nimport { Box } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { DragHandle as DragHandleIcon, ExpandLess as ExpandLessIcon } from '@material-ui/icons'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\theight: '100%',\n\t\twidth: 2,\n\t\tbackground: '#557A8F',\n\t\tcursor: 'e-resize',\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'space-around',\n\t},\n\tcollapsedRoot: {\n\t\tcursor: 'pointer',\n\t},\n\ticon: {\n\t\tcolor: theme.palette.primary.main,\n\t\ttransform: 'translate(0, -2px)',\n\t},\n\ticonBox: {\n\t\tzIndex: 10,\n\t\tpadding: theme.spacing(1, 1, 0.1, 1),\n\t\ttransform: 'translate(-40%, 0) rotate(-90deg)',\n\t\twidth: 20,\n\t\theight: 15,\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'space-around',\n\t\tbackground: '#85A2B3',\n\t\tposition: 'relative',\n\t\tborderRadius: '20px 20px 0 0',\n\t},\n}))\n\ninterface Props {\n\tonMouseUp: MouseEventHandler<HTMLElement> | undefined,\n\tonMouseDown: MouseEventHandler<HTMLElement> | undefined,\n\tisCollapsed: boolean,\n\tonClickExpand: () => void\n}\n\nconst Handle: FC<Props> = ({\n\tonMouseDown,\n\tonMouseUp,\n\tisCollapsed,\n\tonClickExpand\n}) => {\n\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Box\n\t\t\tdraggable={false}\n\t\t\tonMouseDown={onMouseDown}\n\t\t\tonMouseUp={onMouseUp}\n\t\t\tclassName={clsx(classes.root, isCollapsed && classes.collapsedRoot)}\n\t\t\tonClick={() => isCollapsed && onClickExpand()}\n\t\t>\n\t\t\t<Box draggable={false} className={classes.iconBox}>\n\t\t\t\t{!isCollapsed ?\n\t\t\t\t\t<DragHandleIcon className={classes.icon}/> :\n\t\t\t\t\t<ExpandLessIcon className={classes.icon} />\n\t\t\t}\n\t\t\t</Box>\n\t\t</Box>\n\t)\n\n}\n\nexport default Handle\n","import React, { useState, useEffect, useCallback, FC } from 'react'\nimport Handle from './Handle'\n\n\ninterface Props{\n\tboxWidth: number,\n\tonDrag: (w: number) => void,\n\tminSize?: number,\n\tminMapSize?: number\n}\n\nconst VerticalHandle: FC<Props> = ({\n\tboxWidth,\n\tonDrag,\n\tminSize = 0,\n\tminMapSize = 20/100 * window.innerWidth\n}) => {\n\n\tconst [ isDragging, setIsDragging ] = useState(false)\n\tconst [ initialWidth, setInitialWidth ] = useState(minSize * 2)\n\n\tconst handleMouseMove = useCallback(e => {\n\n\t\tconst windowWidth = window.innerWidth\n\t\tlet w = e.clientX < minMapSize ?\n\t\t\twindowWidth - minMapSize :\n\t\t\twindowWidth - e.clientX\n\t\tw = w < minSize ? 0 : w\n\n\t\tonDrag(w)\n\n\t}, [ onDrag, minMapSize, minSize ])\n\n\tconst handleMouseDown = useCallback(e => {\n\t\tsetIsDragging(true)\n\t\tconst w = window.innerWidth - e.clientX\n\t\tsetInitialWidth(initialWidth < minSize ? minSize : w)\n\t}, [  initialWidth, minSize ])\n\n\tconst handleMouseUp = useCallback(() => {\n\t\tsetIsDragging(false)\n\t}, [ ])\n\n\tuseEffect(() => {\n\n\t\tconst remove = () => {\n\n\t\t\twindow.removeEventListener('mousemove', handleMouseMove)\n\t\t\twindow.removeEventListener('mouseup', handleMouseUp)\n\t\t\twindow.removeEventListener('mousedown', handleMouseDown)\n\n\t\t}\n\n\t\tconst add = () => {\n\n\t\t\twindow.addEventListener('mousedown', handleMouseDown)\n\t\t\twindow.addEventListener('mousemove', handleMouseMove)\n\t\t\twindow.addEventListener('mouseup', handleMouseUp)\n\n\t\t}\n\n\t\tif (isDragging) add()\n\t\telse remove()\n\n\t\treturn remove\n\n\t}, [ isDragging, handleMouseMove, handleMouseDown, handleMouseUp ])\n\n\treturn (\n\t\t<Handle\n\t\t\tonMouseDown={handleMouseDown}\n\t\t\tonMouseUp={handleMouseUp}\n\t\t\tisCollapsed={boxWidth < 10}\n\t\t\tonClickExpand={() => onDrag(30/100 * window.innerWidth)}\n\t\t/>\n\t)\n\n}\n\nexport default VerticalHandle\n","import React, { FC, ReactNode, useState } from 'react'\nimport { Paper, Box } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport VerticalHandle from \"./VerticalHandle/VerticalHandle\"\n\nconst useStyles = makeStyles(({ breakpoints }) => ({\n\trooterThanRoot: {\n\t\t[ breakpoints.down('xs') ]: {\n\t\t\twidth: '100%',\n\t\t\theight: '50%',\n\t\t},\n\t},\n\troot: {\n\t\t// overflowX: 'auto',\n\t\toverflowY: 'auto',\n\t\theight: '100%',\n\t\t[ breakpoints.down('xs') ]: {\n\t\t\twidth: '100%',\n\t\t},\n\t},\n\tleftBorder: {\n\t\tborderLeft: '1px solid #DBE4E9',\n\t},\n\ttopBorder: {\n\t\tborderTop: '1px solid #DBE4E9',\n\t},\n}))\n\ninterface Props {\n\tchildren?: ReactNode,\n}\nconst SidebarContent: FC<Props> = ({\n\tchildren,\n}) => {\n\n\tconst classes = useStyles()\n\tconst [width, setWidth] = useState(30/100 * window.innerWidth)\n\n\treturn (\n\t\t<>\n\t\t\t<VerticalHandle\n\t\t\t\tboxWidth={width}\n\t\t\t\tonDrag={setWidth}\n\t\t\t\tminSize={200}\n\t\t\t\tminMapSize={40 / 100 * window.innerWidth}\n\t\t\t/>\n\t\t\t<Box className={classes.rooterThanRoot}>\n\t\t\t\t<Paper className={classes.root} style={{ width: width }}>\n\t\t\t\t\t{children}\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</>\n\t)\n\n}\n\nexport default SidebarContent\n","export default __webpack_public_path__ + \"static/media/header.87193822.svg\";","import React, { CSSProperties, FC } from 'react'\nimport { Box, Typography, Link, Tooltip } from '@material-ui/core'\nimport HeaderImage from \"./../common/images/header.svg\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { KeyItem } from \"./../common/data/getData\"\nconst useStyles = makeStyles(() => ({\n\twrapper: {\n\t\tmargin: 16,\n\t\tbackgroundColor: '#FFFFFF',\n\t\tborderBottom: '1px solid #86A2B3'\n\t},\n\ticon: {\n\t\twidth: 20,\n\t\theight: 22,\n\t\t\"&:hover\":{\n\t\t\topacity: .7\n\t\t}\n\t},\n\tinfoIcon: {\n\t\tmarginLeft: 4\n\t},\n\tdetailsBox: {\n\t\tmarginTop: 8,\n\t\tmarginBottom: 8,\n\t\t\"&:hover\":{\n\t\t\tcursor: 'pointer'\n\t\t}\n\t},\n\tdetailsText: {\n\t\tmarginTop: 6\n\t},\n\thostText: {\n\t\tfontSize: 12,\n\t\twordBreak: 'break-all'\n\t},\n\thasDescription: {\n\t\tcursor: 'pointer',\n\t\t'&:hover': {\n\t\t\ttextDecoration: 'underline'\n\t\t}\n\t},\n\tnoDescription: {\n\t\tcursor: 'default',\n\t}\n}))\n\ninterface Props {\n\thost?: string,\n\tstyle?: CSSProperties,\n\tdetails?: string,\n\tkeys?: KeyItem[]\n}\nconst SidebarTitle: FC<Props> = ({\n\tstyle,\n\thost,\n\tkeys\n}) => {\n\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Box\n\t\t\tstyle={{ ...style }}\n\t\t\tclassName={classes.wrapper}\n\t\t>\n\t\t\t<Box display={'flex'} flexWrap={'nowrap'} justifyContent={'space-between'} alignItems={'center'}>\n\t\t\t\t<img src={HeaderImage} alt={'Teracotta preview app'} />\n\t\t\t</Box>\n\t\t\t{\n\t\t\t\thost && keys && (\n\t\t\t\t\t<Box my={1} mt={2}>\n\t\t\t\t\t\t<Typography variant={'body1'} className={classes.hostText}>\n\t\t\t\t\t\t\t<b>Host: </b>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{host}\t\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant={'body1'} className={classes.hostText}>\n\t\t\t\t\t\t\t<b>Docs: </b>\n\t\t\t\t\t\t\t<Link href={`${host}/apidoc`} target={'_blank'}>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{`${host}/apidoc`}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant={'body1'} className={classes.hostText}>\n\t\t\t\t\t\t\t<b>{'Keys: '}</b>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{keys.map((keyItem: KeyItem) => \n\t\t\t\t\t\t\t\t\tkeyItem.description ? \n\t\t\t\t\t\t\t\t\t\t<Tooltip \n\t\t\t\t\t\t\t\t\t\t\ttitle={keyItem.description || false}\n\t\t\t\t\t\t\t\t\t\t\tkey={`tooltip-${keyItem.key}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t{'/'}\n\t\t\t\t\t\t\t\t\t\t\t\t<span className={classes.hasDescription}>{`{${keyItem.key.toLowerCase()}}`}</span>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<span key={`tooltip-${keyItem.key}`}>\n\t\t\t\t\t\t\t\t\t\t\t{'/'}\n\t\t\t\t\t\t\t\t\t\t\t<span className={classes.noDescription}>{`{${keyItem.key.toLowerCase()}}`}</span>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t)}\t\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t)\n\t\t\t}\n\t\t\t\n\t\t</Box>\n\t)\n}\n\n\nexport default SidebarTitle\n","import { createContext } from 'react'\nimport { Viewport } from \"./map/types\"\nimport { FeatureDataset } from \"./map/types\"\nimport { ResponseMetadata200, KeyItem } from \"./common/data/getData\"\nimport { Colormap } from \"./colormap/colormaps\"\n\nexport type RGBValue = {\n\trange: number[] | undefined,\n\tband: string | undefined\n}\n\nexport type activeRGBSelectorRange = {\n\tR: RGBValue,\n\tG: RGBValue,\n\tB: RGBValue,\n\t[key: string]: RGBValue\n}\n\ninterface AppContextValues {\n\tstate: {\n        viewport: Viewport,\n        isOpticalBasemap: boolean,\n\t\thostname: string | undefined,\n\t\tkeys: KeyItem[] | undefined,\n\t\thoveredDataset: FeatureDataset | undefined,\n\t\tdatasets: undefined | ResponseMetadata200[],\n\t\tactiveDataset: undefined | number,\n\t\tselectedDatasetRasterUrl: string | undefined,\n\t\tpage: number,\n\t\tlimit: number,\n\t\tcolormap: Colormap,\n\t\tactiveSinglebandRange: number[] | undefined,\n\t\tactiveRGB: activeRGBSelectorRange | undefined,\n\t\tactiveEndpoint: string,\n\t\tdatasetBands: string[] | undefined\n\t},\n\tactions: {\n\t\tsetIsOpticalBasemap: Function,\n        setViewport: Function,\n\t\tsetKeys: Function,\n\t\tsetHoveredDataset: Function,\n\t\tsetDatasets: Function,\n\t\tsetActiveDataset: Function,\n\t\tsetSelectedDatasetRasterUrl: Function,\n\t\tsetPage: Function,\n\t\tsetLimit: Function,\n\t\tsetColormap: Function,\n\t\tsetActiveSinglebandRange: Function,\n\t\tsetActiveEndpoint: Function,\n\t\tsetActiveRGB: Function,\n\t\tsetDatasetBands: Function\n\t},\n}\n\ntype Context = AppContextValues\n\nconst AppContext = createContext<Context>(null as any)\n\nexport default AppContext\n","\n\nimport { FeatureDataset } from \"../../map/types\"\n\nexport type KeyItem = {\n    key: string,\n    description?: string\n}\n\nexport type ResponseKeys = {\n    keys: KeyItem[]\n}\n\nexport type DatasetItem = Record<string, string>\n\nexport type ResponseDatasets = {\n    page: number,\n    limit: number,\n    datasets: DatasetItem[]\n}\n\nexport type ResponseMetadata200 = {\n    keys: Record<string, string>,\n    bounds: number[],\n    convex_hull: FeatureDataset,\n    valid_percentage: number,\n    range: number[],\n    mean: number,\n    stdev: number,\n    percentiles: number[],\n    metadata: Record<string, string>,\n    [key: string]: Record<string, string> | number | number[] | FeatureDataset\n}\n\nexport type ResponseMetadata404 = {\n    message: string\n}\n\nexport type ResponseMetadata = ResponseMetadata200 | ResponseMetadata404\n\nconst getData = async (url: string): Promise< ResponseKeys | ResponseDatasets | ResponseMetadata | undefined> => {\n\n    try{\n\n        const data = await fetch(url);\n        const json = await data.json();\n        \n        return json\n\n    }catch(err){\n\n        console.error(err)\n        return undefined\n    }\n\n}\n\nexport default getData;","import React, { FC, ReactNode } from 'react'\nimport { Box, Typography, CircularProgress } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles(() => ({\n    wrapper: {\n\t\tmargin: 16,\n        paddingBottom: 16,\n\t\tbackgroundColor: '#FFFFFF',\n\t\tborderBottom: '1px solid #86A2B3'\n\t},\n    spinner: {\n        width: \"16px !important\",\n        height: \"16px !important\",\n        marginLeft: 6\n    }\n}))\n\ninterface Props {\n    isLoading?: boolean,\n    title: string,\n    children: ReactNode\n}\nconst SidebarItemWrapper: FC<Props> = ({\n    isLoading,\n    title,\n    children\n}) => {\n\n    const classes = useStyles()\n\n    return (\n        <Box className={classes.wrapper}>\n            <Box display={'flex'} alignItems={'center'} mb={1}>\n                <Typography variant={'body1'}>\n                    {title}\n                </Typography>\n                {\n                    isLoading && <CircularProgress color={'primary'} className={classes.spinner}/>\n                }\n            </Box>\n            {children}\n        </Box>\n    )\n\n}\n\nexport default SidebarItemWrapper\n","import React, { FC, ChangeEvent } from 'react'\nimport { \n    Box,\n    FormControl,\n    MenuItem,\n    Select,\n    IconButton,\n    Typography\n } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\n\nconst useStyles = makeStyles(() => ({\n    formControl: {\n        border: 'none',\n        marginLeft: 6\n    },\n    icon: {\n        width: 20,\n        height: 20,\n        cursor: 'pointer'\n    }\n}))\n\ninterface Props {\n    value: number,\n    options: number[],\n    onGetValue: (val: number) => void,\n    page: number,\n    onGetPage: (page: number) => void,\n    disableNext: boolean\n}\nconst TablePagination: FC<Props> = ({\n    value, \n    options, \n    onGetValue,\n    onGetPage,\n    page,\n    disableNext\n}) => {\n    const classes = useStyles()\n\n    const handleChange = (e: ChangeEvent<{ name?: string | undefined; value: unknown; }>) => {\n        onGetValue(Number(e.target.value))\n    }\n\n    const onNextPage = () => {\n        onGetPage(page + 1)\n    }\n\n    const onPreviousPage = () => {\n        onGetPage(page - 1)\n    }\n\n    return (\n        <Box display={'flex'} justifyContent={'space-between'} alignItems={'center'}>\n             <Box display={'flex'} alignItems={'center'}>\n                <IconButton disabled={page === 0} onClick={onPreviousPage}>\n                    <NavigateBeforeIcon className={classes.icon}/>\n                </IconButton>\n                <Typography variant={'body2'}>\n                    {`Page ${page}`}\n                </Typography>\n                <IconButton onClick={onNextPage} disabled={disableNext}>\n                    <NavigateNextIcon className={classes.icon}/>\n                </IconButton>\n            </Box>\n            <Box display={'flex'} alignItems={'center'}>\n                <Typography variant={'body2'}>\n                    {'Rows per page:'}\n                </Typography>\n                <FormControl className={classes.formControl}>\n                    <Select\n                        id=\"demo-simple-select-outlined\"\n                        value={value}\n                        onChange={handleChange}\n                    >\n                        {\n                            options.map((option: number, i: number) => (\n                                <MenuItem key={`limit-${option}`} value={option}>{option}</MenuItem>\n                            ))\n                        }\n                    </Select>\n                </FormControl>\n            </Box>\n        </Box>\n    )\n}\n\nexport default TablePagination\n","import React, { FC } from 'react'\nimport { TableRow as MuiTableRow, TableCell, Box, IconButton } from '@material-ui/core'\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { DatasetItem } from \"../common/data/getData\"\nimport RadioButtonUncheckedIcon from '@material-ui/icons/RadioButtonUnchecked';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\n\nconst useStyles = makeStyles(() => ({\n    tableCell: {\n        padding: 6,\n        borderBottom: 'none'\n    },\n    tableRow: {\n        cursor: 'pointer'\n    },\n    icon: {\n        width: 18,\n        height: 18\n    },\n    iconChecked: {\n        color: '#61C051',\n    },\n    noPadding: {\n        padding: 0\n    }\n}))\n\ninterface Props {\n    dataset: DatasetItem,\n    keyVal: string,\n    checked: boolean,\n    onClick?: () => void,\n    onMouseEnter?: () => void,\n    onMouseLeave?: () => void\n}\n\nconst TableRow: FC<Props> = ({ \n    dataset, \n    keyVal, \n    checked, \n    onClick,\n    onMouseEnter,\n    onMouseLeave \n}) => {\n\n    const classes = useStyles()\n    \n    return (\n            <MuiTableRow \n                hover \n                onClick={onClick} \n                className={classes.tableRow}\n                onMouseEnter={onMouseEnter}\n                onMouseLeave={onMouseLeave}\n            >\n                <TableCell className={classes.tableCell} >\n                    <Box display={'flex'} alignItems={'center'}>\n                        {\n                            checked ? \n                            <IconButton classes={{root: classes.noPadding}}>\n                                <CheckCircleIcon className={`${classes.iconChecked} ${classes.icon}`}/>\n                            </IconButton> : \n                            <IconButton classes={{root: classes.noPadding}}>\n                                <RadioButtonUncheckedIcon className={classes.icon}/>\n                            </IconButton>\n                        }\n                    </Box>\n                </TableCell>\n                {\n                    Object.keys(dataset).map((item: string, i: number) => (\n                        <TableCell className={classes.tableCell} key={`${keyVal}-cell-${i}`}>\n                            {dataset[item]}\n                        </TableCell>\n                    ))\n                }\n            </MuiTableRow>\n    )\n}\n\nexport default TableRow\n","import React, { FC, useState, useEffect, FormEvent } from 'react'\nimport { Box, TextField, Button  } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { KeyItem } from \"../common/data/getData\"\n\ntype FormValues = Record<string, string | number> | undefined\n\nconst useStyles = makeStyles(theme => ({\n    input: {\n        width: '50%'\n    },\n    inputLabel: {\n        '& label': {\n            fontSize: 12\n        }\n    }\n}))\n\ninterface Props {\n    keys: KeyItem[],\n    onSubmitFields: (queryString: string) => void\n}\nconst DatasetsForm: FC<Props> = ({\n    keys,\n    onSubmitFields\n}) => {\n\n    const classes = useStyles()\n    const [ formValues, setFormValues ] = useState<FormValues>(undefined)\n\n    const onSubmitForm = (e: FormEvent<HTMLFormElement> | undefined) => {\n        if(e) e.preventDefault()\n        if(formValues){\n\n            const queryString = Object.keys(formValues).map(\n                (keyItem: string) => \n                    formValues[keyItem] !== '' ? `&${keyItem}=${formValues[keyItem]}` : ''\n                ).join('')\n\n            if(queryString) onSubmitFields(queryString)\n        }\n    }\n\n    useEffect(() => {\n        const reduceKeys = keys.reduce((acc:Record<string, string> , keyItem: KeyItem) => {\n           \n            acc[keyItem.key.toLowerCase()] = ''\n            return acc\n\n        }, {})\n\n        setFormValues(reduceKeys)\n\n    }, []) // eslint-disable-line react-hooks/exhaustive-deps\n\n    return (\n        <form onSubmit={e => onSubmitForm(e)}>\n            {\n                keys.map((keyItem: KeyItem, i: number) => {\n                    const isLastUneven = keys.length % 2 === 1 && i === keys.length - 1 ? true : false\n                return(\n                    <TextField \n                        key={`textfield-${keyItem.key}`} \n                        id={keyItem.key.toLocaleLowerCase()} \n                        label={keyItem.key}\n                        className={`${isLastUneven ? '' : classes.input} ${classes.inputLabel}`} \n                        fullWidth={isLastUneven}\n                        onChange={(e) => setFormValues((val) => ({ ...val, [keyItem.key.toLowerCase()]: e.target.value }))}\n                        value={formValues?.[ keyItem.key ]}\n                    />\n                )})\n            }\n            <Box mt={2} width={1} display={'flex'} justifyContent={'flex-end'}>\n                <Button fullWidth type={'submit'} color={'secondary'} variant={'contained'} onClick={() => onSubmitForm(undefined)}>\n                    {'Search'}\n                </Button>\n            </Box>\n        </form>\n    )\n\n}\n\nexport default DatasetsForm\n","import React, { CSSProperties, useState, FC } from 'react';\nimport { Grid, Tooltip } from '@material-ui/core';\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\nimport Clipboard from 'react-clipboard.js';\n\nconst disabledStyle = {\n  // borderBottom: '1px solid #cfdbe2',\n  color: '#cfdbe2',\n  cursor: 'no-drop',\n};\n\nconst enabledStyle = {\n  // borderBottom: '1px solid #0b4566',\n  color: '#0b4566',\n  cursor: 'pointer',\n};\n\nexport type CopyToClipboardProps = {\n  disabled?: boolean;\n  helperText?: string;\n  url?: boolean;\n  message?: string;\n  style?: CSSProperties,\n  className?: string | undefined\n};\n\nexport const mockCopy: VoidFunction = () => {\n  // call this function\n};\n\nconst CopyToClipboard: FC<CopyToClipboardProps> = ({\n  disabled = false,\n  helperText = '',\n  message = '',\n  style = {},\n  className\n}) => {\n  const [copyUrl] = useState(window.location.href);\n  const [tooltip, setTooltip] = useState(\n    helperText ? helperText : message ? 'Copy text' : 'Copy URL'\n  );\n\n  const copyAction = () => {\n    // mockCopy();\n    if (message) {\n      setTooltip('Text copied to Clipboard.');\n      setTimeout(() => {\n        setTooltip(helperText ? helperText : 'Copy text');\n      }, 5000);\n    } else {\n      setTooltip('URL copied to Clipboard.');\n      setTimeout(() => {\n        setTooltip(helperText ? helperText : 'Copy URL');\n      }, 5000);\n    }\n  };\n\n  const copy = () => {\n    if (disabled !== true) copyAction();\n  };\n\n  return (\n    <Grid\n      container\n      spacing={0}\n      justify=\"space-between\"\n      alignItems=\"flex-end\"\n      \n      style={disabled === true ? { ...style, ...disabledStyle } : { ...style, ...enabledStyle }}\n      onClick={() => copy()}\n    >\n      <Grid item>\n        <Grid container alignItems=\"center\" justify=\"center\">\n          <Clipboard\n            data-clipboard-text={message ? message : copyUrl}\n            className=\"copy-clipboard\"\n            style={{ background: 'none', border: '0px', outline: 'none' }}\n          >\n            <Tooltip title={tooltip}>\n              <FileCopyOutlinedIcon\n                color=\"primary\"\n                className={className}\n              />\n            </Tooltip>\n          </Clipboard>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default CopyToClipboard;\n","import React, { FC } from 'react'\nimport { Box, TableRow, TableCell, Grid, Collapse, Typography, Link } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { ResponseMetadata200 } from \"../common/data/getData\"\nimport CopyToClipboard from \"../common/components/CopyToClipboard\"\n\nconst useStyles = makeStyles(() => ({\n    imagePreview: {\n        height: '90%',\n        width: 'auto'\n    },\n    codeContainer: {\n        backgroundColor: '#F8F8F8', \n        overflowX: 'auto', \n        width: 'fit-content', \n        maxWidth: '100%'\n    },\n    codeContainerText: {\n        color: '#557A8F',\n        fontSize: 11\n    },\n    copyTooltip: {\n        cursor: 'pointer'\n    },\n    tableCell: {\n        padding: 0,\n    },\n    metadataLink: {\n        fontSize: 10,\n        color: '#86A2B3',\n    }\n}))\n\ninterface Props {\n    host: string,\n    page: number,\n    limit: number,\n    i: number,\n    activeDataset?: number,\n    dataset: ResponseMetadata200,\n    datasetUrl?: string\n}\nconst DatasetPreview: FC<Props> = ({\n    host,\n    page,\n    limit,\n    i,\n    activeDataset,\n    dataset,\n    datasetUrl\n}) => {\n\n    const classes = useStyles()\n\n    const returnJson = (dataset: ResponseMetadata200) => Object.keys(dataset).reduce(\n        (acc: string[], keyItem: string, j: number) => \n           {\n                const neededKeys = ['mean', 'range', 'stdev', 'valid_percentage'];\n                if(neededKeys.includes(keyItem)){\n                    if(keyItem === 'range'){\n                        const buildStr = `  ${keyItem}: [${dataset[keyItem]}],\\n`\n                        acc = [...acc, buildStr]\n                    }else{\n                        const buildStr = `  ${keyItem}: ${dataset[keyItem]},\\n`\n                        acc = [...acc, buildStr]\n                    }\n                \n                }\n\n            return acc\n           }, []).join('')\n\n    return (\n        <TableRow>\n            <TableCell className={classes.tableCell} colSpan={8}>\n                <Collapse in={page * limit + i === activeDataset} timeout=\"auto\" unmountOnExit>\n                    {\n                        datasetUrl && (\n\n                        <Box p={1} className={classes.codeContainer}>\n                            <Box width={1} display={'flex'} alignItems={'center'}>\n                                <Typography className={classes.codeContainerText}>\n                                    <code>\n                                        {'Raster url\\n'}\n                                    </code>\n                                </Typography>\n                                <Box>\n                                    <CopyToClipboard className={classes.copyTooltip} helperText={'Copy to clipboard'} message={datasetUrl}/>\n                                </Box>\n                            </Box>\n                            <code style={{ wordBreak: 'break-all' }}>\n                                {datasetUrl}\n                            </code>\n                        </Box>\n                        )\n                    }\n                    <Box my={1}>\n                        <Grid container alignItems={'center'}>\n                            <Grid item xs={6}>\n                                <Box p={1} className={classes.codeContainer}>\n                                <Typography className={classes.codeContainerText}>\n                                    <code>\n                                        {'Metadata'}\n                                        \n                                    </code>\n                                </Typography>\n                                    <code style={{ whiteSpace: 'pre' }}>\n                                        {'{\\n'}\n                                        {returnJson(dataset)}\n                                        {'}\\n'}\n                                    </code>\n                                    <Link \n                                        target={'_blank'} \n                                        href={`${host}/metadata${Object.keys(dataset.keys).map((keyItem: string) => `/${dataset.keys[keyItem]}`).join('')}`}\n                                        className={classes.metadataLink}\n                                    >\n                                        {'View full metadata\\n'}\n                                    </Link>\n                                </Box>\n                                \n                            </Grid>\n                            <Grid \n                                item \n                                xs={6} \n                                container\n                                justify={'center'}\n                                alignItems={'center'}\n                            >\n                                <Box p={1}>\n                                    <img\n                                        src={`${host}/singleband/${Object.keys(dataset.keys).map((datasetKey: string) => `${dataset.keys[datasetKey]}/`).join('')}preview.png?tile_size=[128,128]`} \n                                        alt={'TC-preview'}\n                                        className={classes.imagePreview}\n                                        loading={'eager'}\n                                    />\n                                </Box>\n                            </Grid>\n                        </Grid>\n                    </Box>\n                </Collapse>\n            </TableCell>\n        </TableRow>\n    )\n\n}\n\nexport default DatasetPreview\n","import React, { useState, useEffect } from 'react';\nimport { Slider as MSlider, Box, Grid, Typography, TextField } from '@material-ui/core';\n\ntype SliderProps = {\n  /**\n   * Default values of the slider in format `[min, max]` or `number`.\n   */\n  defaultValue: number[] | number;\n  title?: string | undefined;\n  min?: number | undefined;\n  max?: number | undefined;\n  step?: number | undefined;\n  /**\n   * Get the value while using the slider thumb.\n   */\n  getValue?: (val: number | number[]) => void;\n  /**\n   * Get the value once you release the slider thumb.\n   */\n  getValueCommitted?: (val: number | number[]) => void;\n  /**\n   * *Requires `title` prop. Counted in `rem` units.\n   */\n  sliderMarginLeft?: number | undefined;\n  noNumbers?: boolean | undefined;\n  /**\n   * Append a unit at the end of the values. (%, /10, , $)\n   */\n  unit?: string | undefined;\n  disabled?: boolean\n};\n\nconst Slider: React.FC<SliderProps> = ({\n  defaultValue = [0, 1],\n  title,\n  min = 0,\n  max = 1,\n  step = 0.01,\n  getValue,\n  getValueCommitted,\n  sliderMarginLeft = 1,\n  noNumbers = false,\n  unit = '',\n  disabled\n}) => {\n  const [value, setValue] = useState(defaultValue);\n\n  const handleChange = (newValue: number | number[]) => {\n\n    setValue(newValue);\n    getValue && getValue(newValue);\n\n  };\n\n  useEffect(() => {\n    \n    setValue(defaultValue)\n\n  }, [defaultValue])\n\n  useEffect(() => {\n\n  }, [min, max])\n\n  return (\n    <Grid\n      container\n      direction=\"row\"\n      alignItems=\"center\"\n      justify=\"center\"\n      wrap=\"nowrap\"\n    >\n      {title && (\n        <Box>\n          <Grid\n            container\n            alignItems=\"center\"\n            style={{\n              height: '100%',\n              marginRight: noNumbers ? '1rem' : '0rem',\n            }}\n          >\n            <Typography variant=\"h5\">{title}</Typography>\n          </Grid>\n        </Box>\n      )}\n      {!noNumbers && Array.isArray(value) && typeof value[0] === 'number' && (\n        <Box style={{ marginLeft: title ? `${sliderMarginLeft}rem` : '0rem' }}>\n          <Grid\n            container\n            alignItems=\"center\"\n            justify=\"center\"\n            style={{ height: '100%', maxWidth: '8rem' }}\n          >\n            <TextField \n              fullWidth\n              type={'number'}\n              variant={'standard'}\n              value={Number(value[0].toFixed(3))}\n              onChange={(e) => getValueCommitted && getValueCommitted([Number(e.target.value), value[1]])}\n            />\n          </Grid>\n        </Box>\n      )}\n\n      <MSlider\n        style={{ margin: '0rem .6rem', width: '100%' }}\n        value={value}\n        min={min}\n        step={step}\n        max={max}\n        scale={(x) => x / 10}\n        onChange={(e, val) => handleChange(val)}\n        onChangeCommitted={(e, val) =>\n          getValueCommitted && getValueCommitted(val)\n        }\n        valueLabelDisplay=\"off\"\n        disabled={disabled}\n      />\n      {!noNumbers && Array.isArray(value) && (\n        <Box>\n          <Grid\n            container\n            alignItems=\"center\"\n            justify=\"center\"\n            style={{ height: '100%', maxWidth: '8rem' }}\n          >\n            <TextField \n              fullWidth\n              type={'number'}\n              variant={'standard'}\n              value={Number(value[1].toFixed(3)) || (!Array.isArray(value) && Number((value as number).toFixed(3)))}\n              onChange={(e) => getValueCommitted && getValueCommitted([value[0], Number(e.target.value)])}\n            />\n          </Grid>\n        </Box>\n      )}\n    </Grid>\n  );\n};\n\nexport default Slider;\n","export interface Colormap {\n    displayName: string,\n    id: string,\n    img_url: string\n}\n\nconst COLORMAPS: Colormap[] = [\n    { \n        displayName: 'Greys', \n        id: 'greys', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-greys-bar.png' \n    },\n    { \n        displayName: 'Gray', \n        id: 'gray', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gray-bar.png' \n    },\n    { \n        displayName: 'Binary', \n        id: 'binary', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-binary-bar.png' \n    },\n    { \n        displayName: 'Bone', \n        id: 'bone', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-bone-bar.png'\n    },\n    { \n        displayName: 'Cloud', \n        id: 'cloud', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-cloud-bar.png' \n    },\n    { \n        displayName: 'Blues', \n        id: 'blues', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-blues-bar.png'\n    },\n    { \n        displayName: 'Viridis', \n        id: 'viridis', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-viridis-bar.png' \n    },\n    { \n        displayName: 'Cividis', \n        id: 'cividis', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-cividis-bar.png' \n    },\n    { \n        displayName: 'Magma', \n        id: 'magma', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-magma-bar.png' \n    },\n    { \n        displayName: 'Ocean', \n        id: 'ocean', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-ocean-bar.png' \n    },\n    { \n        displayName: 'Afmhot', \n        id: 'afmhot', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-afmhot-bar.png' \n    },\n    { \n        displayName: 'Hot', \n        id: 'hot', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-hot-bar.png' \n    },\n    { \n        displayName: 'Inferno', \n        id: 'inferno', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-inferno-bar.png' \n    },\n    { \n        displayName: 'Plasma', \n        id: 'plasma', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-plasma-bar.png' \n    },\n    { \n        displayName: 'Spring', \n        id: 'spring', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-spring-bar.png' \n    },\n    { \n        displayName: 'Summer', \n        id: 'summer', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-summer-bar.png' \n    },\n    { \n        displayName: 'Autumn', \n        id: 'autumn', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-autumn-bar.png' \n    },\n    { \n        displayName: 'Winter', \n        id: 'winter', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-winter-bar.png' \n    },\n    { \n        displayName: 'Wistia', \n        id: 'wistia', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-wistia-bar.png' \n    },\n    { \n        displayName: 'Terrain', \n        id: 'terrain', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-terrain-bar.png' \n    },\n    { \n        displayName: 'Twilight', \n        id: 'twilight', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-twilight-bar.png' \n    },\n    { \n        displayName: 'Twilight_shifted', \n        id: 'twilight_shifted', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-twilight_shifted-bar.png' \n    },\n    { \n        displayName: 'Ylgn', \n        id: 'ylgn', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-ylgn-bar.png' \n    },\n    { \n        displayName: 'Brbg', \n        id: 'brbg', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-brbg-bar.png' \n    },\n    { \n        displayName: 'Brg', \n        id: 'brg', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-brg-bar.png' \n    },\n    { \n        displayName: 'Bugn', \n        id: 'bugn', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-bugn-bar.png' \n    },\n    { \n        displayName: 'Bupu', \n        id: 'bupu', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-bupu-bar.png' \n    },\n    { \n        displayName: 'Bwr', \n        id: 'bwr', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-bwr-bar.png' \n    },\n    { \n        displayName: 'Gnbu',\n        id: 'gnbu', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gnbu-bar.png' \n    },\n    { \n        displayName: 'Orrd', \n        id: 'orrd', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-orrd-bar.png' \n    },\n    { \n        displayName: 'Piyg', \n        id: 'piyg', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-piyg-bar.png' \n    },\n    { \n        displayName: 'Prgn', \n        id: 'prgn', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-prgn-bar.png' \n    },\n    { \n        displayName: 'Pubu', \n        id: 'pubu', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-pubu-bar.png' \n    },\n    { \n        displayName: 'Puor', \n        id: 'puor', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-puor-bar.png' \n    },\n    {\n        displayName: 'Purd', \n        id: 'purd', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-purd-bar.png' \n    },\n    { \n        displayName: 'Pubugn', \n        id: 'pubugn', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-pubugn-bar.png' \n    },\n    { \n        displayName: 'Rdbu', \n        id: 'rdbu', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-rdbu-bar.png' \n    },\n    { \n        displayName: 'Rdgy', \n        id: 'rdgy', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-rdgy-bar.png' \n    },\n    { \n        displayName: 'Rdpu', \n        id: 'rdpu', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-rdpu-bar.png' \n    },\n    { \n        displayName: 'Rdylbu', \n        id: 'rdylbu', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-rdylbu-bar.png' \n    },\n    { \n        displayName: 'Ylgnbu', \n        id: 'ylgnbu', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-ylgnbu-bar.png' \n    },\n    { \n        displayName: 'Ylorbr', \n        id: 'ylorbr', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-ylorbr-bar.png' \n    },\n    { \n        displayName: 'Ylorrd', \n        id: 'ylorrd', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-ylorrd-bar.png' \n    },\n    { \n        displayName: 'Rdylgn', \n        id: 'rdylgn', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-rdylgn-bar.png' \n    },\n    { \n        displayName: 'Greens', \n        id: 'greens', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-greens-bar.png' \n    },\n    { \n        displayName: 'Pink', \n        id: 'pink', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-pink-bar.png' \n    },\n    { \n        displayName: 'Oranges', \n        id: 'oranges', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-oranges-bar.png' \n    },\n    { \n        displayName: 'Purples', \n        id: 'purples', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-purples-bar.png' \n    },\n    { \n        displayName: 'Reds', \n        id: 'reds', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-reds-bar.png' \n    },\n    { \n        displayName: 'Rainbow', \n        id: 'rainbow', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-rainbow-bar.png' \n    },\n    { \n        displayName: 'Gnuplot', \n        id: 'gnuplot', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gnuplot-bar.png' \n    },\n    { \n        displayName: 'Gnuplot2', \n        id: 'gnuplot2', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gnuplot2-bar.png' \n    },\n    { \n        displayName: 'Cmrmap', \n        id: 'cmrmap', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-cmrmap-bar.png' \n    },\n    { \n        displayName: 'Cool', \n        id: 'cool', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-cool-bar.png' \n    },\n    { \n        displayName: 'Coolwarm', \n        id: 'coolwarm', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-coolwarm-bar.png' \n    },\n    { \n        displayName: 'Copper', \n        id: 'copper', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-copper-bar.png' \n    },\n    { \n        displayName: 'Cubehelix', \n        id: 'cubehelix', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-cubehelix-bar.png' \n    },\n    { \n        displayName: 'Seismic', \n        id: 'seismic', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-seismic-bar.png' \n    },\n    { \n        displayName: 'Accent', \n        id: 'accent', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-accent-bar.png' \n    },\n    { \n        displayName: 'Dark2', \n        id: 'dark2', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-dark2-bar.png' \n    },\n    { \n        displayName: 'Flag', \n        id: 'flag', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-flag-bar.png' \n    },\n    { \n        displayName: 'Prism', \n        id: 'prism', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-prism-bar.png' \n    },\n    { \n        displayName: 'Paired', \n        id: 'paired', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-paired-bar.png' \n    },\n    { \n        displayName: 'Pastel1', \n        id: 'pastel1', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-pastel1-bar.png' \n    },\n    { \n        displayName: 'Pastel2', \n        id: 'pastel2', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-pastel2-bar.png' \n    },\n    { \n        displayName: 'Set1', \n        id: 'set1', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-set1-bar.png' \n    },\n    { \n        displayName: 'Set2', \n        id: 'set2', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-set2-bar.png' \n    },\n    { \n        displayName: 'Set3', \n        id: 'set3', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-set3-bar.png' \n    },\n    { \n        displayName: 'Tab10', \n        id: 'tab10', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-tab10-bar.png' \n    },\n    { \n        displayName: 'Tab20', \n        id: 'tab20', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-tab20-bar.png' \n    },\n    { \n        displayName: 'Tab20b', \n        id: 'tab20b', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-tab20b-bar.png' \n    },\n    { \n        displayName: 'Tab20c', \n        id: 'tab20c', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-tab20c-bar.png' \n    },\n    { \n        displayName: 'Gist_earth', \n        id: 'gist_earth', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gist_earth-bar.png' \n    },\n    { \n        displayName: 'Gist_heat', \n        id: 'gist_heat', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gist_heat-bar.png' \n    },\n    { \n        displayName: 'Gist_ncar', \n        id: 'gist_ncar', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gist_ncar-bar.png' \n    },\n    { \n        displayName: 'Gist_rainbow', \n        id: 'gist_rainbow', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gist_rainbow-bar.png' \n    },\n    { \n        displayName: 'Gist_stern', \n        id: 'gist_stern', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gist_stern-bar.png' \n    },\n    { \n        displayName: 'Gist_gray', \n        id: 'gist_gray', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gist_gray-bar.png' \n    },\n    { \n        displayName: 'Gist_yarg', \n        id: 'gist_yarg', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gist_yarg-bar.png' \n    },\n    { \n        displayName: 'Hsv', \n        id: 'hsv', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-hsv-bar.png' \n    },\n    { \n        displayName: 'Jet', \n        id: 'jet', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-jet-bar.png' \n    },\n    { \n        displayName: 'Nipy_spectral', \n        id: 'nipy_spectral', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-nipy_spectral-bar.png'\n    },\n    { \n        displayName: 'Sepctral', \n        id: 'spectral', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-spectral-bar.png' \n    },\n    \n]\n\nexport default COLORMAPS;","import * as React from 'react';\nimport { Box, TextField } from '@material-ui/core';\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles(() => ({\n  inputBox: {\n    width: 50,\n  }\n}))\n\nconst colorbarStyle = {\n  width: '100%',\n  height: 6,\n  borderRadius: 4,\n};\n\nexport type LegendProps = {\n  src: string;\n  /**\n   * *Only relevant when `range` is present. Represents the amount of ticks distributed between min/max values(including them).\n   */\n  length?: number | undefined;\n  /**\n   * Min/Max range for the Legend ticks.\n   */\n  range?: number[] | undefined;\n  /**\n   * Append a unit at the end of the values. (%, C, , $)\n   */\n  unit?: string | undefined;\n  onGetRange: (val: number[]) => void\n};\n\nconst Legend: React.FC<LegendProps> = ({ src, range, onGetRange }) => {\n  const classes = useStyles()\n\n  return (\n    <Box style={{ width: '100%' }}>\n      <img src={src} alt=\"\" style={colorbarStyle} />\n      {\n        range?.[0] !== undefined &&\n        range?.[1] !== undefined && (\n          <Box display=\"flex\" justifyContent=\"space-between\">\n            <Box className={classes.inputBox}>\n              <TextField \n                fullWidth\n                type={'number'}\n                variant={'standard'}\n                value={Number(range[0].toFixed(3))}\n                onChange={(e) => onGetRange([Number(e.target.value), Number(range[1])])}\n              />\n            </Box>\n            <Box className={classes.inputBox}>\n              <TextField \n                fullWidth\n                type={'number'}\n                variant={'standard'}\n                value={Number(range[1].toFixed(3))}\n                onChange={(e) => onGetRange([Number(range[0]), Number(e.target.value)])}\n              />\n            </Box>\n          </Box>\n        )\n      }\n    </Box>\n  );\n};\n\nexport default Legend;\n","import React, { FC, useState, useContext, useEffect } from 'react'\nimport { \n    Box, \n    FormControl, \n    Select, \n    MenuItem, \n    InputLabel, \n    Grid \n} from '@material-ui/core'\nimport AppContext from \"./../AppContext\"\nimport Slider from \"../common/components/Slider\"\nimport COLORMAPS, { Colormap } from \"./colormaps\"\nimport Legend from '../common/components/Legend'\n\nconst SinglebandSelector: FC = () => {\n    const {\n        state: { \n            colormap,\n            activeDataset,\n            page,\n            limit,\n            datasets,\n            activeSinglebandRange\n        },\n        actions: {\n            setColormap,\n            setActiveSinglebandRange\n        }\n    } = useContext(AppContext)\n\n    const minRange = activeDataset !== undefined && datasets?.[activeDataset - page * limit]?.range[0]\n    const maxRange = activeDataset !== undefined && datasets?.[activeDataset - page * limit]?.range[1]\n\n    const [ localRange, setLocalRange ] = useState(activeSinglebandRange)\n    const onSetColormap = (colorId: string) => {\n\n        const colormapObj = COLORMAPS.find((item: Colormap) => item.id === colorId)\n        if(colormapObj) setColormap(colormapObj)\n        \n    }\n\n    const onSetRangeValue = (range: number[]) => {\n        setActiveSinglebandRange(range)\n    }\n\n    useEffect(() => {\n\n        activeSinglebandRange && setLocalRange(activeSinglebandRange)\n\n    }, [activeSinglebandRange])\n\n    return (\n        <Grid container alignItems={'center'}>\n            <Grid item xs={4}>\n                <FormControl fullWidth>\n                    <InputLabel>\n                        {'Colormap'}\n                    </InputLabel>\n                    <Select\n                        id=\"demo-simple-select-outlined\"\n                        value={colormap.id}\n                        onChange={(e) => onSetColormap(String(e.target.value))}\n                        fullWidth\n                    >\n                        {\n                            COLORMAPS.map((option: Colormap, i: number) => (\n                                <MenuItem key={`limit-${option.id}`} value={option.id}>{option.displayName}</MenuItem>\n                            ))\n                        }\n                    </Select>\n                </FormControl>\n            </Grid>\n            <Grid item xs={8}>\n                <Box mx={4}>\n                    {\n                        datasets && \n                        activeSinglebandRange !== undefined && \n                        activeDataset !== undefined &&\n                        (\n                        <>\n                            <Slider \n                                noNumbers \n                                getValueCommitted={value => Array.isArray(value) && onSetRangeValue(value)} \n                                getValue={(value: number | number[]) => Array.isArray(value) && setLocalRange(value)}\n                                defaultValue={activeSinglebandRange} \n                                min={minRange || 0} \n                                max={maxRange || 0} \n                                step={0.01} \n                                title={'Contrast '}\n                                disabled={minRange === maxRange}\n                            />\n                            <Legend \n                                src={colormap.img_url} \n                                range={localRange}\n                                length={2}\n                                onGetRange={(val) => setActiveSinglebandRange(val)}\n                            />\n                        </>\n                        )\n                    }\n                </Box>\n            </Grid>\n        </Grid>\n    )\n\n}\n\nexport default SinglebandSelector\n","import React, { FC, useEffect, useState } from 'react'\nimport { Box, Grid, FormControl, Select, MenuItem, InputLabel } from '@material-ui/core'\nimport Slider from \"../common/components/Slider\"\n\ninterface Props {\n    options?: string[],\n    selectValue?: string,\n    onGetSelectValue: (val: string) => void,\n    sliderValue: number[],\n    onGetSliderValue: (val: number[]) => void,\n    min: number,\n    max: number,\n    title: string,\n    step: number\n}\n\nconst RGBSlider: FC<Props> = ({\n    options,\n    selectValue,\n    onGetSliderValue,\n    onGetSelectValue,\n    min,\n    max,\n    sliderValue,\n    title,\n    step\n}) => {\n    const [ localRange, setLocalRange ] = useState(sliderValue)\n    useEffect(() => {\n        setLocalRange(sliderValue)\n    }, [sliderValue])\n    return (\n        <Grid container alignItems={'center'}>\n            <Grid container item xs={2} alignItems={'center'}>\n                <FormControl fullWidth style={{ display: 'flex', alignItems: 'center' }}>\n                    <InputLabel style={{ fontSize: 10 }}>\n                        {'Band'}\n                    </InputLabel>\n                    <Select\n                        id=\"demo-simple-select-outlined\"\n                        value={selectValue || ''}\n                        onChange={(e) => onGetSelectValue(String(e.target.value))}\n                        fullWidth\n                    >\n                        {\n                            options?.map((option: string) => (\n                                <MenuItem key={`limit-${option}`} value={option}>{option}</MenuItem>\n                            ))\n                        }\n                    </Select>\n                </FormControl>\n            </Grid>\n            <Grid container item xs={10} alignItems={'center'}>\n                <Box ml={2} mt={2} width={1}>\n                    <Slider \n                        getValueCommitted={value => Array.isArray(value) && onGetSliderValue(value)} \n                        getValue={(value: number | number[]) => Array.isArray(value) && setLocalRange(value)}\n                        defaultValue={localRange} \n                        min={min} \n                        max={max} \n                        step={step} \n                        title={title}\n                    />\n                </Box>\n            </Grid>\n        </Grid>\n    )\n\n}\n\nexport default RGBSlider\n","import React, { FC, useContext, useEffect } from 'react'\nimport { \n    Box, \n} from '@material-ui/core'\nimport AppContext, { activeRGBSelectorRange } from \"./../AppContext\"\nimport RGBSlider from \"./RGBSlider\"\n\nconst RGBSelector: FC = () => {\n    const {\n        state: { \n            datasetBands,\n            activeRGB,\n            activeDataset,\n            datasets,\n            page,\n            limit\n        },\n        actions: {\n            setActiveRGB\n        }\n    } = useContext(AppContext)\n\n    useEffect(() => {\n\n    }, [])\n\n    const datasetPageRange = activeDataset !== undefined && datasets?.[activeDataset - page * limit]?.range\n    const minRange = datasetPageRange && datasetPageRange[0]\n    const maxRange = datasetPageRange && datasetPageRange[1]\n    \n    const onGetBandValue = (val: string, bandKey: string) => {\n        setActiveRGB((activeRGB: activeRGBSelectorRange) => activeRGB && {\n            ...activeRGB,\n            [ bandKey ]: { band: val, range: activeRGB[bandKey].range }\n        })\n    }\n\n    const onGetSliderValue = (val: number[], sliderKey: string) => {\n        setActiveRGB((activeRGB: activeRGBSelectorRange) => activeRGB && {\n            ...activeRGB,\n            [ sliderKey ]: { range: val, band: activeRGB[sliderKey].band }\n        })\n    }\n\n    return (\n        <Box>\n            {\n                datasetBands && activeRGB && (\n                    Object.keys(activeRGB).map((color: string) => (\n                        <RGBSlider \n                            key={`rgb-slider-${color}`}\n                            options={datasetBands}\n                            max={Number(maxRange)}\n                            min={Number(minRange)}\n                            sliderValue={[Number(activeRGB[color].range?.[0]), Number(activeRGB[color].range?.[1])]}\n                            title={color + ':'}\n                            selectValue={activeRGB[color].band}\n                            onGetSelectValue={(val) => onGetBandValue(val, color)}\n                            onGetSliderValue={(val) => onGetSliderValue(val, color)}\n                            step={0.01}\n                        />\n                    ))\n                )\n            }\n        </Box>\n    )\n\n}\n\nexport default RGBSelector\n","export type Endpoint = { id: string }\n\nconst endpoints: Endpoint[] = [\n    {\n        id: 'rgb'\n    },\n    {\n        id: 'singleband'\n    }\n]\n\nexport default endpoints","import React, { FC, useContext } from 'react'\nimport { Box, Typography, Collapse, FormControl, Select, MenuItem } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport SinglebandSelector from \"./SinglebandSelector\"\nimport RGBSelector from \"./RGBSelector\"\nimport AppContext from \"./../AppContext\"\nimport endpoints, { Endpoint } from \"./endpoints\"\n\nconst useStyles = makeStyles(() => ({\n    wrapper: {\n\t\tmargin: 16,\n        paddingBottom: 16,\n\t\tbackgroundColor: '#FFFFFF',\n\t\tborderBottom: '1px solid #86A2B3'\n\t},\n    rgbText: {\n        fontSize: 12,\n        marginRight: 6\n    }\n}))\n\nconst DatasetsColormap: FC = () => {\n\n    const {\n        state: { \n            activeDataset,\n            activeEndpoint\n        },\n        actions: {\n            setActiveEndpoint\n        }\n    } = useContext(AppContext)\n\n    const classes = useStyles()\n\n    return (\n            <Collapse in={activeDataset !== undefined} timeout=\"auto\" unmountOnExit>\n                <Box className={classes.wrapper}>\n                    <Box \n                        display={'flex'} \n                        alignItems={'center'} \n                        mb={1}\n                        justifyContent={'space-between'}\n                    >\n                        <Typography variant={'body1'}>\n                            {'Customize layer'}\n                        </Typography>\n                        <Box display={'flex'} alignItems={'center'} style={{ minWidth: 100 }}>\n                            <FormControl fullWidth>\n                                <Select\n                                    id=\"demo-simple-select-outlined\"\n                                    value={activeEndpoint}\n                                    onChange={(e) => setActiveEndpoint(String(e.target.value))}\n                                    fullWidth\n                                >\n                                    {\n                                        endpoints.map((option: Endpoint) => (\n                                            <MenuItem key={`endpoint-${option.id}`} value={option.id}>{option.id}</MenuItem>\n                                        ))\n                                    }\n                                </Select>\n                            </FormControl>\n                        </Box>\n                    </Box>\n                        {\n                            activeEndpoint === 'singleband' &&  <SinglebandSelector />\n                        }\n                        {\n                            activeEndpoint === 'rgb' &&  <RGBSelector />\n                        }\n                </Box>\n            </Collapse>\n    )\n\n}\n\nexport default DatasetsColormap\n","import React, { FC, useState, useEffect, useContext, Fragment } from 'react'\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableHead,\n    TableRow as MuiTableRow,\n    Typography,\n    Box,\n} from '@material-ui/core'\nimport AppContext, { activeRGBSelectorRange } from \"../AppContext\"\nimport { makeStyles } from '@material-ui/core/styles'\nimport\n    getData,\n    {\n        ResponseDatasets,\n        DatasetItem,\n        ResponseMetadata200,\n        ResponseKeys,\n        KeyItem\n} from \"../common/data/getData\"\nimport SidebarItemWrapper from \"../sidebar/SidebarItemWrapper\"\nimport TablePagination from \"./TablePagination\"\nimport TableRow from \"./TableRow\"\nimport DatasetsForm from \"./DatasetsForm\"\nimport DatasetPreview from \"./DatasetPreview\"\nimport DatasetsColormap from \"../colormap/DatasetsColormap\"\nimport { defaultRGB } from \"../App\"\n\n\nconst useStyles = makeStyles(() => ({\n    wrapper: {\n\t\tmargin: 16,\n        paddingBottom: 16,\n\t\tbackgroundColor: '#FFFFFF',\n\t\tborderBottom: '1px solid #86A2B3',\n\t},\n    table: {\n        marginTop: '1rem',\n        width: \"100%\",\n        overflowX: 'auto',\n        overflowY: 'auto',\n        maxHeight: 515\n    },\n    tableHeadTypography: {\n        fontWeight: 'bold',\n    },\n    tableCell: {\n        padding: 6\n    },\n\n}))\n\ninterface Props {\n    host: string\n}\n\nconst limitOptions = [ 15, 25, 50, 100 ]\n\nconst SidebarDatasetsItem: FC<Props> = ({\n    host\n}) => {\n    const classes = useStyles()\n    const {\n        state: {\n            keys,\n            datasets,\n            activeDataset,\n            limit,\n            page,\n            activeSinglebandRange,\n            colormap,\n            activeEndpoint,\n            activeRGB,\n            selectedDatasetRasterUrl\n        },\n        actions: {\n            setKeys,\n            setHoveredDataset,\n            setDatasets,\n            setActiveDataset,\n            setSelectedDatasetRasterUrl,\n            setLimit,\n            setPage,\n            setActiveSinglebandRange,\n            setActiveRGB,\n            setDatasetBands\n        }\n    } = useContext(AppContext)\n\n    const [ queryFields, setQueryFields ] = useState<string | undefined>(undefined)\n    const [ isLoading, setIsLoading ] = useState<boolean>(true)\n\n    const getDatasets = async (host: string, pageRef: number, limitRef: number, queryString: string = '') => {\n\n        const response = await getData(`${host}/datasets?limit=${limitRef}&page=${pageRef}${queryString}`)\n        const datasetsResponse = response as ResponseDatasets | undefined\n        if(datasetsResponse && datasetsResponse.hasOwnProperty('datasets') && Array.isArray(datasetsResponse.datasets)){\n\n            if(datasetsResponse.datasets[0]){\n\n                const metadataResponsesPreFetch: unknown = datasetsResponse.datasets.map(\n                    async (dataset: DatasetItem) => {\n                        const buildMetadataUrl = Object.keys(dataset).map((keyItem: string) => `/${dataset[keyItem]}`).join('')\n                        const preFetchData = await fetch(`${host}/metadata${buildMetadataUrl}`)\n                        return preFetchData.json()\n                    })\n\n                    const metadataResponses = await Promise.all(metadataResponsesPreFetch as Iterable<unknown>)\n                    const typedMetadataResponses = metadataResponses as ResponseMetadata200[]\n                    setDatasets(typedMetadataResponses)\n\n            }else{\n\n                setDatasets(datasetsResponse.datasets)\n\n            }\n\n        }\n\n        setIsLoading(false)\n    }\n\n    const getKeys = async (host: string) => {\n\n        const response = await getData(`${host}/keys`)\n        let keysReponse = response as ResponseKeys | undefined\n\n        if(keysReponse && keysReponse.hasOwnProperty('keys') && Array.isArray(keysReponse.keys)){\n\n            keysReponse.keys = keysReponse.keys.map((item: KeyItem) => ({ ...item, key: item.key[0].toUpperCase() + item.key.substring(1, item.key.length ) }))\n            setKeys(keysReponse.keys)\n\n        }\n\n\n    }\n\n    const onHandleRow = (index: number) => {\n\n        const actualIndex = page * limit + index;\n        setActiveRGB(defaultRGB)\n        if(activeDataset === actualIndex){\n\n            setActiveDataset(undefined)\n            setSelectedDatasetRasterUrl(undefined)\n            setActiveSinglebandRange(undefined)\n\n        }else{\n\n            const dataset = datasets?.[index]\n            setActiveDataset(actualIndex)\n\n            if(dataset){\n\n                const { percentiles } = dataset\n                const validRange = [percentiles[4], percentiles[94]]\n                setActiveSinglebandRange(validRange)\n\n            }\n\n        }\n\n    }\n\n    const onSubmitFields = (queryString: string) => {\n        setQueryFields(queryString)\n        setPage(0)\n        setActiveDataset(undefined)\n        setSelectedDatasetRasterUrl(undefined)\n    }\n\n    useEffect(() => {\n\n        setIsLoading(true)\n        void getKeys(host)\n        void getDatasets(host, page, limit, queryFields)\n\n    }, [host, page, limit, queryFields]) // eslint-disable-line react-hooks/exhaustive-deps\n\n    const onGetRGBBands = async (dataset: ResponseMetadata200) => {\n        const noBandKeysURL = `${host}/datasets?` + Object.keys(dataset.keys).map((item: string) => item !== 'band' ? `${item}=${dataset.keys[item]}&` : '' ).join('')\n        const response = await getData(noBandKeysURL) as ResponseDatasets\n\n        if(response?.datasets && activeRGB){\n\n            const { datasets } = response\n            const bands = datasets.map((dataset: DatasetItem) => dataset.band)\n\n            setActiveRGB((activeRGBLocal: activeRGBSelectorRange) =>\n                Object.keys(activeRGBLocal).reduce((acc: any, colorString: string) => {\n\n                    const { percentiles } = dataset\n                    const validRange = [ percentiles[4], percentiles[94] ]\n\n                    acc[colorString] = { ...activeRGBLocal[colorString], range: validRange }\n\n                    return acc\n\n                }, {}))\n\n            setDatasetBands(bands)\n\n        }\n    }\n\n\n    useEffect(() => {\n\n        if(activeDataset !== undefined && datasets && activeSinglebandRange){\n\n            setSelectedDatasetRasterUrl(undefined)\n            const dataset = datasets[activeDataset - page * limit]\n            const keysRasterUrl = Object.keys(dataset.keys).map((keyItem: string) => `/${dataset.keys[keyItem]}`).join('') + '/{z}/{x}/{y}.png'\n\n            if(activeEndpoint === 'singleband'){\n\n                // setActiveRGB(defaultRGB)\n                const buildRasterUrl = `${host}/${activeEndpoint}${keysRasterUrl}?colormap=${colormap.id}&stretch_range=[${activeSinglebandRange}]`\n                setSelectedDatasetRasterUrl(buildRasterUrl)\n\n            }\n\n            if(activeEndpoint === 'rgb'){\n               void onGetRGBBands(dataset)\n            }\n        }\n\n    }, [activeSinglebandRange, colormap, activeDataset, activeEndpoint])  // eslint-disable-line react-hooks/exhaustive-deps\n\n    useEffect(() => {\n\n        if(activeRGB && activeEndpoint === 'rgb' && datasets && activeDataset !== undefined){\n\n            const dataset = datasets[activeDataset - page * limit]\n            const hasValueForBand = Object.keys(activeRGB).every((colorObj) => activeRGB[colorObj].band)\n            const hasValueForRange = Object.keys(activeRGB).every((colorObj) => activeRGB[colorObj].range)\n\n            if(hasValueForBand && hasValueForRange && dataset !== undefined){\n\n                const lastKey = Object.keys(dataset.keys)[Object.keys(dataset.keys).length - 1]\n                const keysRasterUrl = Object.keys(dataset.keys).map((keyItem: string) => keyItem !== lastKey ? `/${dataset.keys[keyItem]}` : '').join('') + '/{z}/{x}/{y}.png'\n                const rgbParams = Object.keys(activeRGB).map((keyItem: string) => `${keyItem.toLowerCase()}=${activeRGB[keyItem].band}&${keyItem.toLowerCase()}_range=[${activeRGB[keyItem].range}]&`).join('')\n                const buildRasterUrl = `${host}/${activeEndpoint}${keysRasterUrl}?${rgbParams}`\n                setSelectedDatasetRasterUrl(buildRasterUrl)\n\n            }\n\n        }\n\n    }, [activeRGB, activeEndpoint, activeDataset, datasets])  // eslint-disable-line react-hooks/exhaustive-deps\n\n    return (\n        <SidebarItemWrapper isLoading={isLoading} title={'Search for datasets'}>\n            <Box>\n                {\n                    keys &&\n                        <DatasetsForm\n                            keys={keys}\n                            onSubmitFields={onSubmitFields}\n                        />\n                }\n            </Box>\n            <DatasetsColormap />\n            <Box className={classes.table}>\n                <TableContainer onMouseLeave={() => setHoveredDataset(undefined)}>\n                    <Table\n                        aria-labelledby=\"tableTitle\"\n                        size={\"small\"} // medium\n                        aria-label=\"enhanced table\"\n                    >\n                        <TableHead>\n                            <MuiTableRow>\n                                <TableCell className={classes.tableCell} />\n                                {keys && (\n                                    keys.map((datasetKey: KeyItem, i: number) => (\n                                        <TableCell className={classes.tableCell} key={`dataset-key-head-${i}`}>\n                                            <Typography color={'primary'} className={classes.tableHeadTypography} variant={'body2'}>\n                                                {datasetKey.key}\n                                            </Typography>\n                                        </TableCell>\n                                    ))\n                                )}\n                            </MuiTableRow>\n                        </TableHead>\n                        <TableBody>\n                            {\n                                datasets && datasets.map((dataset: ResponseMetadata200, i: number) => (\n                                    <Fragment key={`dataset-${i}`}>\n                                        <TableRow\n                                            dataset={dataset.keys}\n                                            keyVal={`dataset-${i}`}\n                                            checked={page * limit + i === activeDataset}\n                                            onClick={() => onHandleRow(i)}\n                                            onMouseEnter={() => setHoveredDataset(dataset.convex_hull)}\n                                        />\n                                        <DatasetPreview\n                                            activeDataset={activeDataset}\n                                            dataset={dataset}\n                                            host={host}\n                                            i={i}\n                                            limit={limit}\n                                            page={page}\n                                            datasetUrl={selectedDatasetRasterUrl}\n                                        />\n                                    </Fragment>\n                                ))\n                            }\n\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </Box>\n            <TablePagination\n                value={limit}\n                options={limitOptions}\n                onGetValue={(val: number) => setLimit(val)}\n                page={page}\n                onGetPage={(val: number) => setPage(val)}\n                disableNext={limit > (datasets?.length || 0)}\n            />\n        </SidebarItemWrapper>\n\n    )\n\n}\n\nexport default SidebarDatasetsItem\n","import React, { FC, CSSProperties, useContext } from 'react';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport PublicIcon from '@material-ui/icons/Public';\nimport StreetviewIcon from '@material-ui/icons/Streetview';\nimport { IconButton, Grid, Tooltip } from '@material-ui/core';\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport AppContext from '../AppContext';\nimport { Viewport } from \"./types\"\n\n\nconst useStyles = makeStyles((theme) => ({\n  iconButton: {\n  \tpadding: 0\n  },\n  icon: {\n    backgroundColor: '#fff',\n    height: 36,\n    width: 36,\n    fill: '#0B4566',\n    padding: 6,\n    boxSizing: 'border-box',\n    '&:hover': {\n      backgroundColor: theme.palette.primary.main,\n      fill: '#FFF',\n    }\n  },\n  activeIcon: {\n    backgroundColor: '#0b4566',\n    '& path': {\n      fill: '#fff',\n    },\n    height: 36,\n    width: 36,\n    padding: 6,\n    boxSizing: 'border-box',\n  },\n}))\n\nconst gridStyle: CSSProperties = {\n\tposition: 'fixed',\n\tleft: 0,\n\ttop: '50%',\n\twidth: 36,\n\tboxShadow: 'rgba(0, 0, 0, 0.16) 4px 0px 4px',\n\tzIndex: 100,\n\ttransform: 'translate(0, -50%)',\n};\n\nconst ZoomControl: FC = () => {\n  const classes = useStyles();\n  const {\n    state: { isOpticalBasemap },\n    actions: { setIsOpticalBasemap, setViewport },\n  } = useContext(AppContext);\n\n  return (\n    <Grid container style={{...gridStyle}}>\n      <Grid container>\n        <Tooltip placement=\"right\" title={'Change base map'}>\n          <IconButton\n            onClick={() => setIsOpticalBasemap(!isOpticalBasemap)}\n\t\t\t      className={classes.iconButton}\n          >\n            {\n              !isOpticalBasemap ? <StreetviewIcon className={classes.icon}/> : <PublicIcon className={classes.icon}/>\n            }\n            {/* <PublicIcon\n              className={!isOpticalBasemap ? classes.icon : classes.activeIcon}\n            /> */}\n          </IconButton>\n        </Tooltip>\n      </Grid>\n      <Grid container>\n        <IconButton\n          onClick={() => setViewport((v: Viewport) =>({...v, zoom: Number(v.zoom) + 1}))}\n\t\t  className={classes.iconButton}\n        >\n          <AddIcon className={classes.icon} />\n        </IconButton>\n      </Grid>\n      <Grid container>\n        <IconButton\n          onClick={() => setViewport((v: Viewport) =>({...v, zoom: Number(v.zoom) - 1}))}\n\t\t  className={classes.iconButton}\n        >\n          <RemoveIcon className={classes.icon} />\n        </IconButton>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default ZoomControl;\n","import { useState, useEffect } from 'react'\n/* eslint-disable */\nconst getWindowDimensions = () => {\n\n\tconst { clientWidth: width, clientHeight: height } = document.body\n\n\treturn {\n\t\twidth,\n\t\theight,\n\t}\n\n}\n\ninterface ReturnType {\n\twidth: number,\n\theight: number,\n}\nexport default (): ReturnType => {\n\n\tconst [ windowDimensions, setWindowDimensions ] = useState(\n\t\tgetWindowDimensions(),\n\t)\n\n\tuseEffect(() => {\n\n\t\tconst handleResize = () => {\n\n\t\t\tsetWindowDimensions(getWindowDimensions())\n\n\t\t}\n\n\t\twindow.addEventListener('resize', handleResize)\n\n\t\treturn () => window.removeEventListener('resize', handleResize)\n\n\t}, [])\n\n\treturn windowDimensions\n\n}\n","import useWindowDimensions from './useWindowDimensions'\n/* eslint-disable */\nexport default (): boolean => {\n\n\tconst { width } = useWindowDimensions()\n\n\treturn width < 600\n\n}\n","export const regionPaintFill = {\n    'fill-color': '#0b4566',\n    'fill-opacity': 0.1,\n}\n\nexport const regionPaintLine = {\n    'line-color': '#0b4566',\n    'line-width': 2\n}","import React, {\n\tuseEffect, useState, FC, useContext, useRef, RefObject\n} from 'react'\nimport ReactMapGL, { FlyToInterpolator, Source, Layer, WebMercatorViewport } from 'react-map-gl'\nimport ZoomControl from './MapZoomControl'\nimport 'mapbox-gl/dist/mapbox-gl.css'\nimport { easeCubicInOut } from 'd3-ease'\nimport useIsMobileWidth from '../common/hooks/useIsMobileWidth'\nimport AppContext from \"../AppContext\"\nimport { Viewport } from \"./types\"\nimport { regionPaintFill, regionPaintLine } from \"./geojsonStyles\"\n\nconst accessToken = 'pk.eyJ1Ijoiam9zbGRoaSIsImEiOiJja2d0ZjdzbXAwMXdxMnNwN2Jkb2NvbXJ3In0.SayFfMYF2huWsZckbqNqEw'\n\ninterface Props {\n\thost?: string\n}\n\nconst Map: FC<Props> = ({ host }) => {\n\n\tconst isMobile = useIsMobileWidth()\n\tconst {\n\t\tstate: { \n\t\t\tisOpticalBasemap, \n\t\t\tviewport, \n\t\t\thoveredDataset, \n\t\t\tdatasets, \n\t\t\tactiveDataset,\n\t\t\tselectedDatasetRasterUrl,\n\t\t\tpage,\n\t\t\tlimit\n\t\t},\n\t\tactions: {\n\t\t\tsetViewport\n\t\t}\n\t} = useContext(AppContext)\n\n\tconst [ localViewport, setLocalViewport ] = useState<Viewport | undefined>(\n\t\tundefined,\n\t)\n\tconst [ localRasterUrl, setLocalRasterUrl ] = useState<undefined | string>(undefined)\n\tconst basemap = isOpticalBasemap ? 'mapbox://styles/mapbox/satellite-v9' : 'mapbox://styles/mapbox/light-v10'\n\n\tconst mapRef: RefObject<HTMLDivElement> | null = useRef(null)\n\n\tuseEffect(() => {\n\n\t\tconst { latitude, longitude, zoom } = viewport\n\t\tsetLocalViewport({\n\t\t\t...{\n\t\t\t\tlongitude,\n\t\t\t\tlatitude,\n\t\t\t\tzoom,\n\t\t\t\ttransitionDuration: 2000,\n\t\t\t\ttransitionInterpolator: new FlyToInterpolator(),\n\t\t\t\ttransitionEasing: easeCubicInOut,\n\t\t\t},\n\t\t})\n\n\n\t}, [ viewport ])\n\n\tuseEffect(() => {\n\t\t\n\t\tsetLocalRasterUrl(undefined)\n\t\tsetTimeout(() => {\n\t\t\tsetLocalRasterUrl(selectedDatasetRasterUrl)\n\t\t}, 200)\n\n\t}, [selectedDatasetRasterUrl])\n\n\tuseEffect(() => {\n\t\tif(activeDataset !== undefined && datasets){\n\t\t\t\n\t\t\tconst pageIndex = activeDataset - page * limit\n\t\t\tconst currentBounds = datasets[pageIndex].bounds\n\n\t\t\tconst formattedBounds: [[number, number], [number, number]] = [\n\t\t\t\t[ currentBounds[ 0 ], currentBounds[ 1 ] ],\n\t\t\t\t[ currentBounds[ 2 ], currentBounds[ 3 ] ],\n\t\t\t]\n\n\t\t\tif (formattedBounds[ 0 ][ 0 ] >= 89) formattedBounds[ 0 ][ 0 ] = 89\n\t\t\tif (formattedBounds[ 0 ][ 1 ] <= -89) formattedBounds[ 0 ][ 1 ] = -89\n\t\t\tif (formattedBounds[ 1 ][ 0 ] >= 179) formattedBounds[ 1 ][ 0 ] = 179\n\t\t\tif (formattedBounds[ 1 ][ 1 ] >= 89) formattedBounds[ 0 ][ 0 ] = 89\n\n\t\t\tif(mapRef.current !== null){\n\t\t\t\tconst mapHeight = mapRef.current?.scrollHeight\n\t\t\t\tconst currentMapWidth = mapRef.current?.scrollWidth\n\n\t\t\t\tif (mapHeight && currentMapWidth) {\n\n\t\t\t\t\tconst viewportBounds = new WebMercatorViewport(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\twidth: currentMapWidth,\n\t\t\t\t\t\t\theight: mapHeight,\n\t\t\t\t\t\t}\n\t\t\t\t\t).fitBounds(formattedBounds, { padding: 40 })\n\n\t\t\t\t\tconst boundsViewportToPass = {\n\t\t\t\t\t\tzoom: viewportBounds.zoom,\n\t\t\t\t\t\tlatitude: viewportBounds.latitude,\n\t\t\t\t\t\tlongitude: viewportBounds.longitude,\n\t\t\t\t\t}\n\n\t\t\t\t\tsetViewport((localViewport: Viewport) => (\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t...localViewport,\n\t\t\t\t\t\t\t...boundsViewportToPass,\n\t\t\t\t\t\t}\n\t\t\t\t\t))\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}, [ activeDataset ]) // eslint-disable-line react-hooks/exhaustive-deps\n\n\treturn (\n\t\t<ReactMapGL\n\t\t\t{...localViewport}\n\t\t\twidth={'100%'}\n\t\t\theight={'100%'}\n\t\t\tmapboxApiAccessToken={accessToken}\n\t\t\tmapStyle={basemap}\n\t\t\tonViewportChange={setLocalViewport}\n\t\t>\n\t\t\t{!isMobile && (\n\t\t\t\t<ZoomControl />\n\t\t\t)}\n\t\t\t{\n\t\t\t\thoveredDataset && (\n\t\t\t\t\t<Source\n\t\t\t\t\t\ttype={'geojson'}\n\t\t\t\t\t\tdata={hoveredDataset}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Layer type={'fill'} id={'hovered-dataset-fill'} paint={regionPaintFill}/>\n\t\t\t\t\t\t<Layer type={'line'} id={'hovered-dataset-line'} paint={regionPaintLine}/>\n\t\t\t\t\t</Source>\n\t\t\t\t)\n\t\t\t}\n\t\t\t{\n\t\t\t\tlocalRasterUrl && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Source type=\"raster\" id=\"dataset_raster\" tileSize={256} tiles={[localRasterUrl]}>\n\t\t\t\t\t\t\t<Layer type=\"raster\" id=\"selected-dataset-raster\" source=\"dataset_raster\" paint={{}}/>\n\t\t\t\t\t\t</Source>\n\t\t\t\t\t </>\n\t\t\t\t)\n\t\t\t}\n\t\t\t<div style={{ width: '100%', height: '100%', zIndex: -1 }} ref={mapRef}></div>\n\t\t</ReactMapGL>\n\t)\n\n}\n\nexport default Map\n","import React, { FC, useState, useEffect } from 'react';\nimport { Box } from \"@material-ui/core\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport SidebarContent from \"./sidebar/SidebarContent\"\nimport SidebarTitle from \"./sidebar/SidebarTitle\"\nimport SidebarDatasetsItem from \"./sidebar-datasets/SidebarDatasets\"\nimport Map from \"./map/Map\"\nimport { FlyToInterpolator } from 'react-map-gl'\nimport { easeCubicInOut } from 'd3-ease'\nimport AppContext, { activeRGBSelectorRange } from \"./AppContext\"\nimport { Viewport } from \"./map/types\"\nimport { FeatureDataset } from \"./map/types\"\nimport { ResponseMetadata200, KeyItem } from './common/data/getData';\nimport COLORMAPS, { Colormap } from \"./colormap/colormaps\"\n\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    width: '100%',\n\t\theight: \"100vh\",\n\t\tmargin: 0,\n\t\tpadding: 0,\n  }\n}))\n\nconst details = 'This applet lets you explore the data on any running Terracotta server. Just search for a dataset to get started!'\n\nconst defaultColormap = COLORMAPS[0]\n\nconst defaultViewport = {\n  latitude: 30.62136584218745,\n\tlongitude: 13.840430671501323,\n\tzoom: 1,\n\tbearing: 0,\n\tpitch: 0,\n\ttransitionDuration: 2000,\n\ttransitionInterpolator: new FlyToInterpolator(),\n\ttransitionEasing: easeCubicInOut,\n}\n\nconst isEnvDev = process.env.REACT_APP_NODE_ENV === 'development'\nconst TC_URL = process.env.REACT_APP_TC_URL\n\nexport const defaultRGB: activeRGBSelectorRange = {\n  R: {\n    band: undefined,\n    range: undefined\n  },\n  G: {\n    band: undefined,\n    range: undefined\n  },\n  B: {\n    band: undefined,\n    range: undefined\n  },\n}\n\ninterface Props {\n  hostnameProp: string | undefined\n}\n\nconst App: FC<Props> = ({ hostnameProp }) => {\n  const [ viewport, setViewport ] = useState<Viewport>(defaultViewport)\n  const [ isOpticalBasemap, setIsOpticalBasemap ] = useState<boolean>(false)\n\n  const [ page, setPage ] = useState<number>(0)\n  const [ limit, setLimit ] = useState<number>(15)\n  const [ hostname, setHostname ] = useState<string | undefined>(undefined)\n  const [ keys, setKeys ] = useState<KeyItem[] | undefined>(undefined)\n  const [ datasets, setDatasets ] = useState<ResponseMetadata200[] | undefined>(undefined)\n  const [ activeDataset, setActiveDataset ] = useState<number | undefined>(undefined)\n  const [ hoveredDataset,  setHoveredDataset ] = useState<FeatureDataset | undefined>(undefined)\n  const [ selectedDatasetRasterUrl, setSelectedDatasetRasterUrl ] = useState<string | undefined>(undefined)\n  const [ colormap, setColormap ] = useState<Colormap>(defaultColormap)\n  const [ activeSinglebandRange, setActiveSinglebandRange ] = useState<[number, number] | undefined>(undefined)\n  const [ activeEndpoint, setActiveEndpoint ] = useState<string>('singleband')\n  const [ activeRGB, setActiveRGB ] = useState<activeRGBSelectorRange | undefined>(defaultRGB)\n  const [ datasetBands, setDatasetBands ] = useState<string[] | undefined>(undefined)\n\n  const classes = useStyles(); \n\n  const initializeApp = (hostname: string | undefined) => {\n    // sanitize hostname\n\n    // when developing, set up your .env in the /app folder with the env. variables:\n    // - REACT_APP_NODE_ENV=development\n    // - REACT_APP_TC_URL= your TC url to develop with\n\n    if(isEnvDev && TC_URL){\n      hostname = TC_URL\n    }\n    \n    if(hostname){\n\n      if (hostname.charAt(hostname.length - 1) === '/') {\n          hostname = hostname.slice(0, hostname.length - 1);\n      }\n\n      setHostname(hostname)\n    \n    }\n    \n}\n\n  useEffect(() => {\n\n    window.onload = initializeApp.bind(null, hostnameProp);\n\n  }, [hostnameProp])\n\n  return (\n    <div className={classes.root}>\n      <AppContext.Provider value={{\n        state: {\n          isOpticalBasemap,\n          viewport,\n          hostname,\n          keys,\n          hoveredDataset,\n          datasets,\n          activeDataset,\n          selectedDatasetRasterUrl,\n          page,\n          limit,\n          colormap,\n          activeSinglebandRange,\n          activeEndpoint,\n          activeRGB,\n          datasetBands\n        },\n        actions: {\n          setIsOpticalBasemap,\n          setViewport,\n          setKeys,\n          setHoveredDataset,\n          setDatasets,\n          setActiveDataset,\n          setSelectedDatasetRasterUrl,\n          setPage,\n          setLimit,\n          setColormap,\n          setActiveSinglebandRange,\n          setActiveEndpoint,\n          setActiveRGB,\n          setDatasetBands\n        }\n      }}>\n        <Box\n          display={'flex'}\n          height={1}\n          width={1}\n        >\n          <Map host={hostname}/>\n            <SidebarContent>\n              <SidebarTitle\n                host={hostname}\n                details={details}\n                keys={keys}\n              />\n              {\n                hostname && (\n                    <SidebarDatasetsItem host={hostname} />\n                )\n              }\n              \n            </SidebarContent>\n        </Box>\n      </AppContext.Provider>\n    </div>\n   );\n}\n\nexport default App;\n","import { createMuiTheme } from '@material-ui/core/styles'\n\nconst DHITheme = createMuiTheme({\n\tpalette: {\n\t\tprimary: {\n\t\t\tmain: '#0B4566', // DHI Primary color\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: '#00A4EC', // Automatically generated secondary color\n\t\t\t'&:hover': '#0076C8',\n\t\t},\n\t\tgrey: {\n\t\t\tmedium: '#DBE4E9',\n\t\t\tlight: '#F2F5F7',\n\t\t\tdark: '#86A2B3',\n\t\t},\n\t},\n\tflexLayout: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\tflex: 1,\n\t},\n\ttypography: {\n\t\th1: { fontSize: 32, fontWeight: 500 },\n\t\th2: { fontSize: 14, fontWeight: 400 },\n\t\th3: { fontSize: 50, fontWeight: 800 },\n\t\th6: {\n\t\t\tcolor: '#0B4566',\n\t\t\tfontSize: 14,\n\t\t\tbackgroundColor: '#F2F5F7',\n\t\t\tpadding: '8px 16px',\n\t\t},\n\t\th5: {\n\t\t\tfontSize: 12,\n\t\t\tcolor: '#0B4566',\n\t\t},\n\t\tp: {\n\t\t\tfontSize: 12,\n\t\t},\n\t\tsubtitle1: {\n\t\t\tfontSize: 14,\n\t\t\tfontWeight: 600,\n\t\t\tcolor: '#0B4566',\n\t\t},\n\t\tbody2: {\n\t\t\tfontSize: 12,\n\t\t},\n\t},\n\tdrawerColor: '#ffffff',\n\tdrawerWidth: '50vw',\n\toverrides: {\n\t\tMuiButton: {\n\t\t\troot: {\n\t\t\t\tcolor: '#fff',\n\t\t\t\tfontSize: 12,\n\n\t\t\t\ttextTransform: 'initial',\n\t\t\t\tpadding: '8px 16px',\n\t\t\t},\n\t\t\tcontainedSecondary: {\n\t\t\t\tbackgroundColor: '#00A4EC',\n\t\t\t\tcolor: '#fff',\n\t\t\t\t'&:disabled': {\n\t\t\t\t\tbackgroundColor: 'rgb(242, 245, 247)',\n\t\t\t\t\tcolor: 'rgba(207,219,226)',\n\t\t\t\t},\n\t\t\t\t'&:hover': {\n\t\t\t\t\tbackgroundColor: '#0076C8',\n\t\t\t\t},\n\t\t\t},\n\t\t\toutlinedPrimary: {\n\t\t\t\tbackgroundColor: ' rgba(0, 164, 236, 0.08)',\n\t\t\t\tborder: '1px solid #00A4EC',\n\t\t\t\tcolor: '#0B4566',\n\t\t\t},\n\t\t\toutlinedSecondary: {\n\t\t\t\tborder: '1px solid #DBE4E9',\n\t\t\t\tcolor: '#0B4566',\n\t\t\t},\n\t\t},\n\t\tMuiCardActions: {\n\t\t\troot: {\n\t\t\t\tpadding: 0,\n\t\t\t},\n\t\t},\n\t\tMuiCardContent: {\n\t\t\troot: {\n\t\t\t\tpadding: 0,\n\t\t\t\t'&:last-child': {\n\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tMuiCheckbox: {\n\t\t\troot: {\n\t\t\t\tpadding: '0px',\n\t\t\t\tMuiSvgIcon: {\n\t\t\t\t\troot: {\n\t\t\t\t\t\twidth: '12px',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tMuiAccordion: {\n\t\t\troot: {\n\t\t\t\t'&$expanded': {\n\t\t\t\t\tmargin: 0,\n\t\t\t\t},\n\t\t\t\t'&:before': {\n\t\t\t\t\tbackgroundColor: 'none',\n\t\t\t\t},\n\t\t\t\t'&$disabled': {\n\t\t\t\t\tbackgroundColor: '#f2f5f7',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tMuiAccordionDetails: {\n\t\t\troot: {\n\t\t\t\tborderBottom: '1px solid #DBE4E9',\n\t\t\t},\n\t\t},\n\t\tMuiAccordionSummary: {\n\t\t\tcontent: {\n\t\t\t\tmargin: '8px 0px ',\n\t\t\t\t'&$expanded': {\n\t\t\t\t\tmargin: '8px 0px ',\n\t\t\t\t},\n\t\t\t},\n\t\t\troot: {\n\t\t\t\tbackgroundColor: '#F8F8F8',\n\t\t\t\tborderBottom: '1px solid #DBE4E9',\n\t\t\t\tminHeight: 0,\n\t\t\t\t'&$expanded': {\n\t\t\t\t\tminHeight: 0,\n\t\t\t\t\tbackgroundColor: '#F2F5F7',\n\t\t\t\t},\n\t\t\t\t'&:hover': {\n\t\t\t\t\tbackgroundColor: '#F2F5F7',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tMuiFormControlLabel: {\n\t\t\troot: {\n\t\t\t\twidth: '50%',\n\t\t\t\tmarginLeft: '0px',\n\t\t\t\tmarginRight: '0px',\n\t\t\t\t'Mui-disabled': {\n\t\t\t\t\t'-webkit-text-fill-color': 'rgba(207,219,226)',\n\t\t\t\t\topacity: 1,\n\t\t\t\t},\n\t\t\t},\n\t\t\tlabel: {\n\t\t\t\tfontSize: '12px',\n\t\t\t\tpaddingLeft: '.2rem',\n\t\t\t},\n\t\t},\n\t\tMuiIconButton: {\n\t\t\troot: {\n\t\t\t\tpadding: 8,\n\t\t\t},\n\t\t},\n\t\tMuiInputBase: {\n\t\t\tinput: {\n\t\t\t\tfontSize: 12,\n\t\t\t\tcolor: '#0B4566',\n\t\t\t},\n\t\t},\n\n\t\tMuiPaper: {\n\t\t\troot: {\n\t\t\t\tcolor: '#0B4566',\n\t\t\t},\n\t\t\trounded: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\televation1: {\n\t\t\t\tboxShadow: 'none',\n\t\t\t},\n\t\t\televation4: {\n\t\t\t\tboxShadow: 'none',\n\t\t\t},\n\t\t},\n\t\tMuiSvgIcon: {\n\t\t\troot: {\n\t\t\t\twidth: 16,\n\t\t\t\theight: 16,\n\t\t\t},\n\t\t},\n\t\tMuiToolbar: {\n\t\t\tregular: {\n\t\t\t\tminHeight: 56,\n\t\t\t\t'@media (min-width: 600px)': {\n\t\t\t\t\tminHeight: 56,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tMuiTooltip: {\n\t\t\ttooltip: {\n\t\t\t\tcolor: '#fff',\n\t\t\t\tbackgroundColor: '#0B4566',\n\t\t\t},\n\t\t\tarrow: {\n\t\t\t\tcolor: '#0B4566',\n\t\t\t},\n\t\t},\n\t},\n})\n\nexport default DHITheme\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { ThemeProvider } from \"@material-ui/core\"\nimport DhiTheme from \"./theme/theme\"\n\nrequire('dotenv').config()\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<ThemeProvider theme={DhiTheme}>\n\t\t\t<App hostnameProp={document.getElementById('hostname-id')?.innerText}/>\n\t\t</ThemeProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}